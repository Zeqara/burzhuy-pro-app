<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç BUR–ñ–£–ô</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
</head>
<body>

    <div id="app-container">
        
        <div id="loader" class="screen active"><div class="spinner"></div></div>

        <!-- –≠–ö–†–ê–ù–´ –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò -->
        <div id="auth-screen" class="screen">
            <div class="auth-container">
                <div id="phone-view">
                    <h2>–í—Ö–æ–¥ –∏–ª–∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2><p class="auth-toggle" style="margin-bottom: 20px; color: var(--text-secondary);">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.</p>
                    <form id="phone-form"><div class="form-group"><input type="tel" id="phone-input" placeholder="+7 (999) 999-99-99" required></div><button type="submit" id="send-code-btn" class="btn-primary">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button></form>
                </div>
                <div id="code-view" style="display: none;">
                    <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h2><p class="auth-toggle" style="margin-bottom: 20px; color: var(--text-secondary);">–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –°–ú–°-–∫–æ–¥ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä. –í–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∏–∂–µ.</p>
                    <form id="code-form"><div class="form-group"><input type="text" id="code-input" placeholder="–ö–æ–¥ –∏–∑ –°–ú–°" required></div><button type="submit" class="btn-primary">–í–æ–π—Ç–∏</button></form>
                </div>
            </div>
        </div>
        <div id="profile-setup-screen" class="screen">
            <div class="auth-container">
                <h2>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h2><p class="auth-toggle" style="margin-bottom: 20px; color: var(--text-secondary);">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é.</p>
                <form id="profile-setup-form"><div class="form-group"><label>–ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label><input type="text" id="profile-name-input" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required></div><button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤–æ–π—Ç–∏</button></form>
            </div>
        </div>
        
        <!-- –î–ê–®–ë–û–†–î -->
        <div id="main-menu-screen" class="screen">
            <div class="dashboard-header"><div class="avatar">–ë</div><h2 id="user-name-display">BUR–ñ–£–ô</h2><p>–¢–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç</p></div>
            <div class="content">
                <div id="dashboard-info-container"></div>
                <ul class="menu-list">
                    <li class="menu-list-item menu-btn" data-target="cooperation-screen">
                        <i class="icon fa-solid fa-calendar-check"></i>
                        <div><strong>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</strong><small>–í—ã–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é —Ç–æ—á–∫—É –∏ –≤—Ä–µ–º—è</small></div>
                    </li>
                    <li class="menu-list-item menu-btn" data-target="history-screen">
                        <i class="icon fa-solid fa-list-check"></i>
                        <div><strong>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫</strong><small>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å—ã –æ—Ç—á–µ—Ç–æ–≤</small></div>
                    </li>
                    <li class="menu-list-item menu-btn" data-target="instruction-screen">
                        <i class="icon fa-solid fa-book-open"></i>
                        <div><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</strong><small>–ü—Ä–∞–≤–∏–ª–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</small></div>
                    </li>
                </ul>
                <div id="admin-menu-container" style="margin-top: 15px;"></div>
                <button id="logout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
            </div>
        </div>

        <!-- –ü–ê–ù–ï–õ–¨ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê -->
        <div id="admin-schedule-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–º</h2></header>
            <div class="content scrollable">
                <form id="schedule-form">
                    <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É</h3>
                    <div class="form-group"><label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤—É—é —Ç–æ—á–∫—É</label><select id="schedule-location-select" required></select></div>
                    <div class="form-group"><label>–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏</label><input type="date" id="schedule-date-input" required></div>
                    <div class="form-group"><label>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 12:00-14:00)</label><div id="time-slots-container"></div><button type="button" id="add-slot-btn" class="btn-secondary">–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ—Ç</button></div>
                    <div class="form-group urgent-checkbox"><input type="checkbox" id="schedule-urgent-checkbox"><label for="schedule-urgent-checkbox">üî• –°—Ä–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</label></div>
                    <button type="submit" class="btn-primary">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
                </form>
                <hr style="margin: 40px 0;">
                <h3>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h3>
                <div id="schedule-list"></div>
            </div>
        </div>
        
        <!-- –≠–ö–†–ê–ù –ó–ê–ü–ò–°–ò –ò –í–´–ë–û–†–ê –í–†–ï–ú–ï–ù–ò -->
        <div id="cooperation-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h2></header>
            <div class="content scrollable">
                <ul id="schedule-cards-list" class="menu-list"></ul>
                <div id="no-schedules-view" class="empty-state" style="display: none;">
                    <div id="lottie-animation"></div><h3>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫</h3><p>–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ, –≤—ã —É–≤–∏–¥–∏—Ç–µ –∏—Ö –∑–¥–µ—Å—å.</p>
                </div>
            </div>
        </div>
        <div id="time-slots-screen" class="screen">
            <header><button class="back-btn" data-target="cooperation-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</h2></header>
            <div class="content scrollable">
                <h3 id="slot-location-title" style="text-align: center; margin-bottom: 20px;"></h3><ul id="slots-list" class="menu-list"></ul>
            </div>
        </div>
        
        <!-- –≠–ö–†–ê–ù –ß–ï–ö-–õ–ò–°–¢–ê -->
        <div id="checklist-screen" class="screen">
             <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ß–µ–∫-–ª–∏—Å—Ç</h2></header>
            <div class="content scrollable">
                <form id="checklist-form">
                    <p><strong>–ê–¥—Ä–µ—Å:</strong> <span id="checklist-address"></span></p><p><strong>–î–∞—Ç–∞:</strong> <span id="checklist-date"></span></p>
                    <div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥</label><textarea id="checklist-q1-appearance" required></textarea></div>
                    <div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –≤–Ω—É—Ç—Ä–∏</label><textarea id="checklist-q2-cleanliness" required></textarea></div>
                    <div class="form-group"><label>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</label><textarea id="checklist-q3-greeting" required></textarea></div>
                    <div class="form-group"><label>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π</label><textarea id="checklist-q4-upsell" required></textarea></div>
                    <div class="form-group"><label>–î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q5-actions" required></textarea></div>
                    <div class="form-group"><label>–í—ã–¥–∞—á–∞ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q6-handout" required></textarea></div>
                    <div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q7-order-eval" required></textarea></div>
                    <div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –±–ª—é–¥–∞ ‚Ññ1 (1‚Äì5)</label><input type="number" id="checklist-q8-food-rating" min="1" max="5" required></div>
                    <div class="form-group"><label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è</label><textarea id="checklist-q9-comments"></textarea></div>
                    <div class="form-group"><label>–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–æ—Ç–æ</label><input type="file" id="checklist-photos" multiple accept="image/*"></div>
                    <button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç</button>
                </form>
            </div>
        </div>

        <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã -->
        <div id="history-screen" class="screen"><header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫</h2></header><div class="content scrollable"><ul id="history-list" class="locations-list"></ul></div></div>
        <div id="instruction-screen" class="screen"><header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2></header><div class="content scrollable"><p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏...</p></div></div>
        
    </div>
    
    <div id="recaptcha-container"></div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="app.js"></script>
</body>
</html>
