<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Тайный агент BURЖУЙ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
</head>
<body>
    <div id="app-container">
        <div id="loader" class="screen active"><div class="spinner"></div></div>
        <!-- ЭКРАНЫ АВТОРИЗАЦИИ -->
        <div id="auth-screen" class="screen"> ... </div>
        <div id="profile-setup-screen" class="screen"> ... </div>
        <!-- ДАШБОРД -->
        <div id="main-menu-screen" class="screen">
            <div class="content scrollable">
                <div class="dashboard-header"> ... </div>
                <div id="dashboard-info-container"></div>
                <ul class="menu-list">
                    <li class="menu-list-item menu-btn" data-target="cooperation-screen"> ... </li>
                    <li id="history-btn" class="menu-list-item menu-btn" data-target="history-screen"> ... </li>
                    <li class="menu-list-item menu-btn" data-target="instruction-screen"> ... </li>
                    <li id="admin-menu-btn" class="menu-list-item" style="display: none;">
                        <i class="icon fa-solid fa-user-shield"></i>
                        <div><strong>Центр Управления</strong><small>Перейти в панель администратора</small></div>
                    </li>
                </ul>
                <button id="logout-btn">Выйти из аккаунта</button>
            </div>
        </div>

        <!-- ======================================================== -->
        <!-- НОВЫЕ ЭКРАНЫ АДМИНИСТРАТОРА -->
        <!-- ======================================================== -->

        <!-- 1. Главный хаб админки -->
        <div id="admin-hub-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> Назад</button><h2>Центр Управления</h2></header>
            <div class="content">
                <div id="admin-stats-container"></div>
                <ul class="menu-list">
                    <li class="menu-list-item menu-btn" data-target="admin-schedule-screen"><i class="icon fa-solid fa-calendar-days"></i><div><strong>Управление графиком</strong><small>Создать и удалить проверки</small></div></li>
                    <li class="menu-list-item menu-btn" data-target="admin-reports-screen"><i class="icon fa-solid fa-file-signature"></i><div><strong>Просмотр отчетов</strong><small>Проверить и утвердить отчеты</small></div></li>
                    <li class="menu-list-item menu-btn" data-target="admin-users-screen"><i class="icon fa-solid fa-users"></i><div><strong>Управление пользователями</strong><small>Просмотр и смена ролей</small></div></li>
                </ul>
            </div>
        </div>

        <!-- 2. Экран списка отчетов -->
        <div id="admin-reports-screen" class="screen">
            <header><button class="back-btn" data-target="admin-hub-screen"><i class="fa-solid fa-chevron-left"></i> Назад</button><h2>Все отчеты</h2></header>
            <div class="content scrollable"><ul id="admin-reports-list" class="menu-list"></ul></div>
        </div>
        
        <!-- 3. Экран деталей отчета -->
        <div id="admin-report-detail-screen" class="screen">
            <header><button class="back-btn" data-target="admin-reports-screen"><i class="fa-solid fa-chevron-left"></i> Назад</button><h2>Детали отчета</h2></header>
            <div class="content scrollable">
                <div class="report-details">
                    <p><strong>Адрес:</strong> <span id="admin-detail-address"></span></p>
                    <p><strong>Агент:</strong> <span id="admin-detail-user"></span></p>
                    <p><strong>Дата:</strong> <span id="admin-detail-date"></span></p>
                    <p><strong>Статус:</strong> <span id="admin-detail-status"></span></p>
                    <hr><h4>Ответы на вопросы:</h4>
                    <div class="form-group"><label>Чистота и внешний вид:</label><p id="admin-detail-q1"></p></div>
                    <div class="form-group"><label>Чистота внутри:</label><p id="admin-detail-q2"></p></div>
                    <div class="form-group"><label>Приветствие и поведение:</label><p id="admin-detail-q3"></p></div>
                    <div class="form-group"><label>Предложение дополнений:</label><p id="admin-detail-q4"></p></div>
                    <div class="form-group"><label>Действия после заказа:</label><p id="admin-detail-q5"></p></div>
                    <div class="form-group"><label>Выдача заказа:</label><p id="admin-detail-q6"></p></div>
                    <div class="form-group"><label>Оценка заказа:</label><p id="admin-detail-q7"></p></div>
                    <div class="form-group"><label>Оценка блюда №1 (1–5):</label><p id="admin-detail-q8"></p></div>
                    <div class="form-group"><label>Дополнительные замечания:</label><p id="admin-detail-q9"></p></div>
                    <hr><h4>Прикрепленные фото:</h4><div id="admin-detail-photos"></div>
                    <hr><h4>Действия:</h4>
                    <div id="admin-detail-actions" style="display: flex; gap: 15px;">
                        <button id="admin-action-approve" class="btn-primary" style="background: var(--status-approved);">Принять</button>
                        <button id="admin-action-reject" class="btn-primary" style="background: var(--status-rejected);">Отклонить</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. Экран списка пользователей -->
        <div id="admin-users-screen" class="screen">
            <header><button class="back-btn" data-target="admin-hub-screen"><i class="fa-solid fa-chevron-left"></i> Назад</button><h2>Все пользователи</h2></header>
            <div class="content scrollable"><ul id="admin-users-list" class="menu-list"></ul></div>
        </div>

        <!-- ... (остальные экраны без изменений) ... -->
    </div>
    <div id="recaptcha-container"></div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="app.js"></script>
</body>
</html>
