<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç BUR–ñ–£–ô</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
</head>
<body>
    <div id="app-container">
        <div id="loader" class="screen active"><div class="spinner"></div></div>
        
        <!-- –≠–ö–†–ê–ù–´ –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò -->
        <div id="auth-screen" class="screen">
            <div class="auth-container">
                <div id="phone-view">
                    <h2>–í—Ö–æ–¥ –∏–ª–∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2><p class="auth-toggle">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.</p>
                    <form id="phone-form"><div class="form-group"><input type="tel" id="phone-input" placeholder="+7 (999) 999-99-99" required></div><button type="submit" id="send-code-btn" class="btn-primary">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button></form>
                </div>
                <div id="code-view" style="display: none;">
                    <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h2><p class="auth-toggle">–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –°–ú–°-–∫–æ–¥ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä. –í–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∏–∂–µ.</p>
                    <form id="code-form"><div class="form-group"><input type="text" id="code-input" placeholder="–ö–æ–¥ –∏–∑ –°–ú–°" required></div><button type="submit" class="btn-primary">–í–æ–π—Ç–∏</button></form>
                </div>
            </div>
        </div>
        <div id="profile-setup-screen" class="screen">
            <div class="auth-container">
                <h2>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h2><p class="auth-toggle">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é.</p>
                <form id="profile-setup-form"><div class="form-group"><label>–ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label><input type="text" id="profile-name-input" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required></div><button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤–æ–π—Ç–∏</button></form>
            </div>
        </div>
        
        <!-- –î–ê–®–ë–û–†–î -->
        <div id="main-menu-screen" class="screen">
            <div class="content scrollable">
                <div class="dashboard-header"><div class="avatar">–ë</div><h2 id="user-name-display">BUR–ñ–£–ô</h2><p>–¢–∞–π–Ω—ã–π –∞–≥–µ–Ω—Ç</p></div>
                <div id="dashboard-info-container"></div>
                <ul class="menu-list">
                    <li class="menu-list-item menu-btn" data-target="cooperation-screen"><i class="icon fa-solid fa-calendar-check"></i><div><strong>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</strong><small>–í—ã–±—Ä–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é —Ç–æ—á–∫—É –∏ –≤—Ä–µ–º—è</small></div></li>
                    <li class="menu-list-item menu-btn" data-target="history-screen"><i class="icon fa-solid fa-list-check"></i><div><strong>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫</strong><small>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å—ã –æ—Ç—á–µ—Ç–æ–≤</small></div></li>
                    <li class="menu-list-item menu-btn" data-target="instruction-screen"><i class="icon fa-solid fa-book-open"></i><div><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</strong><small>–ü—Ä–∞–≤–∏–ª–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</small></div></li>
                    <li id="admin-menu-btn" class="menu-list-item" style="display: none;"><i class="icon fa-solid fa-user-shield"></i><div><strong>–¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è</strong><small>–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</small></div></li>
                </ul>
                <button id="logout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
            </div>
        </div>

        <!-- –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ -->
        <div id="admin-hub-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2></header>
            <div class="content scrollable"><div id="admin-stats-container"></div><ul class="menu-list"><li class="menu-list-item admin-hub-btn" data-target="admin-schedule-screen"><i class="icon fa-solid fa-calendar-days"></i><div><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–º</strong><small>–°–æ–∑–¥–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏</small></div></li><li class="menu-list-item admin-hub-btn" data-target="admin-reports-screen"><i class="icon fa-solid fa-file-signature"></i><div><strong>–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤</strong><small>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—Ç—á–µ—Ç—ã</small></div></li><li class="menu-list-item admin-hub-btn" data-target="admin-users-screen"><i class="icon fa-solid fa-users"></i><div><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</strong><small>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–º–µ–Ω–∞ —Ä–æ–ª–µ–π</small></div></li></ul></div>
        </div>
        <div id="admin-schedule-screen" class="screen">
            <header><button class="back-btn" data-target="admin-hub-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</h2></header>
            <div class="content scrollable">
                <form id="schedule-form">
                    <div class="form-group">
                        <label>1. –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</label>
                        <select id="schedule-city-select" required>
                            <option value="" disabled selected>-- –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤—É—é —Ç–æ—á–∫—É</label>
                        <select id="schedule-location-select" required disabled>
                            <option value="" disabled selected>-- ... --</option>
                        </select>
                    </div>
                    <div class="form-group"><label>–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏</label><input type="date" id="schedule-date-input" required></div>
                    <div class="form-group"><label>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã</label><div id="time-slots-container"></div><button type="button" id="add-slot-btn" class="btn-secondary">–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ—Ç</button></div>
                    <div class="form-group urgent-checkbox"><input type="checkbox" id="schedule-urgent-checkbox"><label for="schedule-urgent-checkbox">üî• –°—Ä–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</label></div>
                    <div class="action-buttons-container"><button type="submit" class="btn-primary">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button><button type="button" id="view-schedule-btn" class="btn-icon"><i class="fa-solid fa-list-check"></i> –ö –≥—Ä–∞—Ñ–∏–∫—É</button></div>
                </form>
            </div>
        </div>
        <div id="admin-view-schedule-screen" class="screen">
            <header><button class="back-btn" data-target="admin-schedule-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h2></header>
            <div class="content scrollable"><div id="schedule-list"></div></div>
        </div>
        <div id="admin-reports-screen" class="screen">
            <header><button class="back-btn" data-target="admin-hub-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–í—Å–µ –æ—Ç—á–µ—Ç—ã</h2></header>
            <div class="content scrollable"><ul id="admin-reports-list" class="menu-list"></ul></div>
        </div>
        <div id="admin-report-detail-screen" class="screen">
            <header><button class="back-btn" data-target="admin-reports-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–î–µ—Ç–∞–ª–∏ –æ—Ç—á–µ—Ç–∞</h2></header>
            <div class="content scrollable"><div class="report-details"><p><strong>–ê–¥—Ä–µ—Å:</strong> <span id="admin-detail-address"></span></p><p><strong>–ê–≥–µ–Ω—Ç:</strong> <span id="admin-detail-user"></span></p><p><strong>–î–∞—Ç–∞:</strong> <span id="admin-detail-date"></span></p><p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="admin-detail-status"></span></p><hr><h4>–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:</h4><div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥:</label><p id="admin-detail-q1"></p></div><div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –≤–Ω—É—Ç—Ä–∏:</label><p id="admin-detail-q2"></p></div><div class="form-group"><label>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:</label><p id="admin-detail-q3"></p></div><div class="form-group"><label>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π:</label><p id="admin-detail-q4"></p></div><div class="form-group"><label>–î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞:</label><p id="admin-detail-q5"></p></div><div class="form-group"><label>–í—ã–¥–∞—á–∞ –∑–∞–∫–∞–∑–∞:</label><p id="admin-detail-q6"></p></div><div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –∑–∞–∫–∞–∑–∞:</label><p id="admin-detail-q7"></p></div><div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –±–ª—é–¥–∞ ‚Ññ1 (1‚Äì5):</label><p id="admin-detail-q8"></p></div><div class="form-group"><label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:</label><p id="admin-detail-q9"></p></div><hr><h4>–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ:</h4><div id="admin-detail-photos"></div><hr><h4>–î–µ–π—Å—Ç–≤–∏—è:</h4><div id="admin-detail-actions" style="display: flex; gap: 15px;"><button id="admin-action-approve" class="btn-primary" style="background: var(--status-approved);">–ü—Ä–∏–Ω—è—Ç—å</button><button id="admin-action-reject" class="btn-primary" style="background: var(--status-rejected);">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button></div></div></div>
        </div>
        <div id="admin-users-screen" class="screen">
            <header><button class="back-btn" data-target="admin-hub-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2></header>
            <div class="content scrollable"><ul id="admin-users-list" class="menu-list"></ul></div>
        </div>

        <!-- –≠–ö–†–ê–ù–´ –ê–ì–ï–ù–¢–ê -->
        <div id="cooperation-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h2></header>
            <div class="content scrollable"><ul id="schedule-cards-list" class="menu-list"></ul><div id="no-schedules-view" class="empty-state" style="display: none;"><div id="lottie-animation"></div><h3>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫</h3><p>–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.</p></div></div>
        </div>
        <div id="time-slots-screen" class="screen">
            <header><button class="back-btn" data-target="cooperation-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</h2></header>
            <div class="content scrollable"><h3 id="slot-location-title" style="text-align: center; margin-bottom: 20px;"></h3><ul id="slots-list" class="menu-list"></ul></div>
        </div>
        <div id="checklist-screen" class="screen">
             <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ß–µ–∫-–ª–∏—Å—Ç</h2></header>
            <div class="content scrollable"><form id="checklist-form"><p><strong>–ê–¥—Ä–µ—Å:</strong> <span id="checklist-address"></span></p><p><strong>–î–∞—Ç–∞:</strong> <span id="checklist-date"></span></p><div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥</label><textarea id="checklist-q1-appearance" required></textarea></div><div class="form-group"><label>–ß–∏—Å—Ç–æ—Ç–∞ –≤–Ω—É—Ç—Ä–∏</label><textarea id="checklist-q2-cleanliness" required></textarea></div><div class="form-group"><label>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</label><textarea id="checklist-q3-greeting" required></textarea></div><div class="form-group"><label>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π</label><textarea id="checklist-q4-upsell" required></textarea></div><div class="form-group"><label>–î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q5-actions" required></textarea></div><div class="form-group"><label>–í—ã–¥–∞—á–∞ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q6-handout" required></textarea></div><div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –∑–∞–∫–∞–∑–∞</label><textarea id="checklist-q7-order-eval" required></textarea></div><div class="form-group"><label>–û—Ü–µ–Ω–∫–∞ –±–ª—é–¥–∞ ‚Ññ1 (1‚Äì5)</label><input type="number" id="checklist-q8-food-rating" min="1" max="5" required></div><div class="form-group"><label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è</label><textarea id="checklist-q9-comments"></textarea></div><div class="form-group"><label>–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–æ—Ç–æ</label><input type="file" id="checklist-photos" multiple accept="image/*"></div><button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç</button></form></div>
        </div>
        <div id="history-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫</h2></header>
            <div class="content scrollable"><ul id="history-list" class="menu-list"></ul></div>
        </div>
        <div id="instruction-screen" class="screen">
            <header><button class="back-btn" data-target="main-menu-screen"><i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥</button><h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2></header>
            <div class="content scrollable"><p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏...</p></div>
        </div>
    </div>
    
    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
    <div id="modal-container" class="modal-hidden"><div id="modal-content"><h3 id="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3><p id="modal-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p><div id="modal-buttons"><button id="modal-confirm-btn" class="btn-primary">OK</button><button id="modal-cancel-btn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button></div></div></div>
    <div id="recaptcha-container"></div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="app.js"></script>
</body>
</html>
