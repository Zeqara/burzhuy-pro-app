<!DOCTYPE html>
<html>
<head>
    <title>Firebase Auth Test</title>
</head>
<body>
    <h1>Firebase Creation Test</h1>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

    <script>
        // ВАЖНО: Вставьте сюда конфигурацию вашего ПРОБЛЕМНОГО проекта
        const firebaseConfig = {
            apiKey: "AIza...", // Ваш apiKey
            authDomain: "burzhuy-pro-v2.firebaseapp.com",
            projectId: "burzhuy-pro-v2",
            storageBucket: "burzhuy-pro-v2.firebasestorage.app",
            messagingSenderId: "627105413900",
            appId: "1:627105413900:web:3a02e926867ff76e256729"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Генерируем уникальный email каждый раз
        const randomId = Math.floor(Math.random() * 100000);
        const email = `testuser${randomId}@burzhuy-pro.app`;
        const password = "password123";

        console.log(`Attempting to create user: ${email}`);

        // Пытаемся создать пользователя
        auth.createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
                console.log("SUCCESS! User created:", userCredential.user);
                alert("Успех! Пользователь создан.");
            })
            .catch((error) => {
                console.error("ERROR creating user:", error);
                alert(`Ошибка! Код: ${error.code}, Сообщение: ${error.message}`);
            });
    </script>
</body>
</html>
